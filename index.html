<!DOCTYPE html>
<html>
<head>
    <title>sandsite</title>
    <style>
        .neon-text {
            font-size: 80px;
            color: #fff;
            font-family: 'Brush Script MT', cursive;
            font-style: italic;
            text-align: center;
            text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #0073e6, 0 0 20px #0073e6, 0 0 25px #0073e6, 0 0 30px #0073e6, 0 0 35px #0073e6;
        }
        body { background-color: #111111; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
    </style>
</head>
<body>
    <h1 class="neon-text" id="status">Loading...</h1>

    <script type="module">
    // 1. Import the 'init' function from the JS file generated alongside your WASM
    // If your file is called powder.wasm, the JS is usually powder.js
    import init, { add } from './powder.js';

    async function runWasm() {
        const statusElement = document.getElementById('status');
        
        try {
            // 2. Initialize the WASM module
            // This function automatically handles the stack pointer and imports
            await init();

            // 3. Call your function directly
            // wasm-bindgen exports functions to the top level
            const result = add(10, 50);
            
            statusElement.textContent = "Result: " + result;
            console.log("Wasm initialized successfully!");

        } catch (error) {
            statusElement.textContent = "Init Error";
            console.error("Wasm/Bindgen Error:", error);
            
            // Helpful hint if the file is missing
            if (error.message.includes("404")) {
                console.warn("Make sure 'powder.js' is in the same folder as your HTML!");
            }
        }
    }

    runWasm();
</script>
</body>
</html>
